<template name="home">
  <div class="row">

  </div>
    <div class="searchContainer">
        <h1>planDeis</h1>
        <div class="searchForm">
            <form id="search_main">
                <input type="text" placeholder=" Search.." name="keyword" id="searchBar" class="js-submit-search" autocomplete="off">
            </form>
        </div>
    </div>

  <form id="advSearch_form" class="form-inline">

    <div class="form-group">
        <label class="control-label" for="term">Term: </label>
        <select name="term" class="js-term form-control">
            <option value="">Term</option>
            <option value="1171">Spring 2017</option>
            <option value="1163">Fall 2016</option>
            <option value="1162">Summer 2016</option>
            <option value="1161">Spring 2016</option>
            <option value="1153">Fall 2015</option>     
    </select>
    </div>

    <div class="form-group">
        <label class="control-label" for="requirement">Requirement: </label>
        <select class="js-req form-control">
            <option value="">Requirement</option>
            <option value="CA">CA</option>
            <option value="FL">FL</option>
            <option value="HUM">HUM</option>
            <option value="NW">NW</option>
            <option value="OC">OC</option>
            <option value="PE-1">PE-1</option>
            <option value="PE-SC">PE-SC</option>
            <option value="QR">QR</option>
            <option value="QR1">QR1</option>
            <option value="QR2">QR2</option>
            <option value="SN">SN</option>
            <option value="SS">SS</option>
            <option value="USEM">USEM</option>
            <option value="USWI">USWI</option>
            <option value="UWS">UWS</option>
            <option value="WI">WI</option>
        </select> 
    </div>
  </form>

    <!-- <p id="be_back">
        We will be back
    </p>
    <br>
    <p id="busy_updating">
        We are busy updating myDeis!
        <br> see you soon :)
    </p> -->

    <div class="nav">
        <ul>
            <li><a href="{{pathFor 'home'}}">Search</a></li>
            <li><a href="{{pathFor 'schedule'}}">My Sechdule</a></li>
            <li><a href="{{pathFor 'majorPlan'}}">Major Planning</a></li>
            <li><a href="{{pathFor 'myProfile'}}">My Profile</a></li>
        </ul>
    </div>

    {{#if showTable}}
        {{> search_result}}
    {{/if}}
</template>

<template name="search_result">
    {{#if courseDataReady}}
        {{> reactiveTable class="ui selectable table" collection=courseData settings=settings_course}}
    {{else}}
        {{#if noResult}}
            <br>
           <h2>No Result</h2>
        {{else}}
            <br>
            <h2>Loading...</h2>
        {{/if}}
    {{/if}}

    <div class="overlay"></div>

    <div class="ui container popup">
        {{#if detailReady}}
            <br>
            <h3>Course </h3>{{courseInfo.name}}
            <h3>Description</h3>
            {{courseInfo.description}}
            <h3>Requirements </h3> {{#each r in courseInfo.requirements}}
                                       {{r}},
                                   {{/each}}
            <h3>Majors </h3>{{#if majorInfo}}{{#each item in majorInfo}}{{item}}<br>{{/each}}{{else}}Loading...{{/if}}
            <h3>Sections </h3>{{#if sectionData}}{{> search_result_time_table}}{{else}}Loading...{{/if}}
        {{else}}
            <br>
            <h2>Loading...</h2>
        {{/if}}
    </div>
</template>

<template name="description_detail">
    <div class="ui accordion">
        <div class="title">
            <i class="dropdown icon"></i>
            {{showDescription this.description}}
        </div>

        <div class="content">
            {{this.description}}
        </div>
    </div>
</template>

<template name="search_result_time_table">
    {{> reactiveTable class="ui table" collection=sectionData settings=settings_result}}
</template>